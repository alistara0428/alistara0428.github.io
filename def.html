<html>

<head>
    <title>物防測量器</title>
    <meta charset="utf-8">
	
	<style type="text/css">
        .tr {
			font-size: 20px;
        }
    </style>
	
</head>

<div class='tr'>
    <button onclick='window.location.reload()' ;>重新來一遍</button><br>
	<div style="color:red" onclick='document.location.href="https://forum.gamer.com.tw/C.php?bsn=29220&snA=5301"'>點我進入使用說明 </div>
	<div style="color:green">簡易說明：使用普攻、無弱點耐性、無buff / debuff(含靈晶裝備)</div><br>
    <label>力量：</label>
		<input id="power" ;><br>
    <label>腕力：</label>
		<input id="str" ;><br>
    <label>輸入第一次傷害值：</label>
		<input onchange="dam(this.value)" ;><br>
    <label>接下來的傷害值：</label>
		<input id="gogo" onchange="damA(this.value)" ;><br>
    <div>
        <br>
        可能的防禦力：<span id="defense"> </span>
        <br/>
        <span id="damage"> </span>
    </div>
</div>
</body>

<script>
    var damage = document.getElementById("damage");
    var defense = document.getElementById("defense");
    var gogo = document.getElementById("gogo");

    DEF = 0;
    a1 = [];
    a2 = [];

    function dam(val) {
        power = document.getElementById("power").value;
        str = document.getElementById("str").value;
        a1 = [];
        damage.innerHTML = val + '<br>';

        for (i = 16; i < 48; i++) {
            while (DEF <= str * 2) {
                DEF++;
                tDMG = Math.floor(Math.floor((power - DEF / 2) * (str / 32 + 1) * 1.75 + power * i / 25.6) * 1);
                if (tDMG == val) {
                    a1.push(DEF);
                }
            }
            DEF = 0;
        }
        defense.innerHTML = a1;
    }

    function damA(val) {
        var power = document.getElementById("power").value;
        var str = document.getElementById("str").value;
        damage.innerHTML += val + '<br>';

        for (i = 16; i < 48; i++) {
            for (a = 0; a < a1.length; a++) {
                DEF = a1[a];
                tDMG = Math.floor(Math.floor((power - DEF / 2) * (str / 32 + 1) * 1.75 + power * i / 25.6) * 1);
                if (tDMG == val) {
                    a2.push(DEF);
                }
            }

        }
        a1 = a2;
        a2 = [];
        defense.innerHTML = a1;
        gogo.value = '';
    }
</script>

</html>